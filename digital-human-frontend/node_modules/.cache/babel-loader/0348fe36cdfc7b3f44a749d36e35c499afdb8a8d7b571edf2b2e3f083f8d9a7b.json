{"ast":null,"code":"var _jsxFileName = \"/Users/chenyangdu/Downloads/digital-human-project-updated/digital-human-frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { OrbitControls, useGLTF } from '@react-three/drei';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DigitalHuman() {\n  _s();\n  const {\n    scene,\n    isLoading,\n    error\n  } = useGLTF('/models/digital-human.glb');\n  useEffect(() => {\n    if (error) {\n      console.error('Error loading model:', error);\n    }\n    if (isLoading) {\n      console.log('Loading model...');\n    }\n  }, [isLoading, error]);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error loading model.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this);\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading model...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    object: scene,\n    scale: 0.5,\n    position: [0, -1.5, 0]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 10\n  }, this);\n}\n_s(DigitalHuman, \"Lzu0PWapeAvQNlyHq784GvLNYk8=\", false, function () {\n  return [useGLTF];\n});\n_c = DigitalHuman;\nfunction App() {\n  _s2();\n  const [conversation, setConversation] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [input, setInput] = useState(\"\");\n  const handleUserInput = async () => {\n    if (!input) return;\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          input\n        })\n      });\n      const data = await response.json();\n      setConversation(prev => [...prev, {\n        user: input,\n        bot: data.response\n      }]);\n      setInput(\"\");\n    } catch (error) {\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"digital-human\",\n      children: /*#__PURE__*/_jsxDEV(Canvas, {\n        children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n          intensity: 0.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n          position: [0, 5, 5]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DigitalHuman, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conversation\",\n      children: [conversation.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"User: \", msg.user]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Bot: \", msg.bot]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => {\n          if (e.key === 'Enter') {\n            handleUserInput();\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUserInput,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"XEwc87r2CT/fUCnAaFx0n6E4rKo=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"DigitalHuman\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Canvas","OrbitControls","useGLTF","jsxDEV","_jsxDEV","DigitalHuman","_s","scene","isLoading","error","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","object","scale","position","_c","App","_s2","conversation","setConversation","loading","setLoading","input","setInput","handleUserInput","response","fetch","method","headers","body","JSON","stringify","data","json","prev","user","bot","className","intensity","map","msg","index","type","value","onChange","e","target","onKeyDown","key","onClick","_c2","$RefreshReg$"],"sources":["/Users/chenyangdu/Downloads/digital-human-project-updated/digital-human-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { OrbitControls, useGLTF } from '@react-three/drei';\nimport './App.css';\n\nfunction DigitalHuman() {\n  const { scene, isLoading, error } = useGLTF('/models/digital-human.glb');\n  useEffect(() => {\n    if (error) {\n      console.error('Error loading model:', error);\n    }\n    if (isLoading) {\n      console.log('Loading model...');\n    }\n  }, [isLoading, error]);\n\n  if (error) {\n    return <p>Error loading model.</p>;\n  }\n  if (isLoading) {\n    return <p>Loading model...</p>;\n  }\n  return <primitive object={scene} scale={0.5} position={[0, -1.5, 0]} />;\n}\n\nfunction App() {\n  const [conversation, setConversation] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [input, setInput] = useState(\"\");\n\n  const handleUserInput = async () => {\n    if (!input) return;\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ input }),\n      });\n      const data = await response.json();\n      setConversation((prev) => [...prev, { user: input, bot: data.response }]);\n      setInput(\"\");\n    } catch (error) {\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"digital-human\">\n        <Canvas>\n          <ambientLight intensity={0.5} />\n          <directionalLight position={[0, 5, 5]} />\n          <DigitalHuman />\n          <OrbitControls />\n        </Canvas>\n      </div>\n      <div className=\"conversation\">\n        {conversation.map((msg, index) => (\n          <div key={index}>\n            <p>User: {msg.user}</p>\n            <p>Bot: {msg.bot}</p>\n          </div>\n        ))}\n        {loading && <p>Loading...</p>}\n      </div>\n      <div className=\"input-container\">\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') {\n              handleUserInput();\n            }\n          }}\n        />\n        <button onClick={handleUserInput}>Send</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}