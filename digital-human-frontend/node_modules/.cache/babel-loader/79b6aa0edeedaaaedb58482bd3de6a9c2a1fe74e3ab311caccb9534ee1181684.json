{"ast":null,"code":"import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './useFBO.js';\nconst DepthBuffer = /*#__PURE__*/React.forwardRef(({\n  size = 256\n}, ref) => {\n  React.useEffect(() => {\n    console.warn('DepthBuffer has been deprecated and will be removed next major. Replace it with useDepthBuffer(size)!');\n  }, []);\n  const dpr = useThree(state => state.viewport.dpr);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const w = size || width * dpr;\n  const h = size || height * dpr;\n  const depthConfig = React.useMemo(() => {\n    const depthTexture = new DepthTexture(w, h);\n    depthTexture.format = DepthFormat;\n    depthTexture.type = UnsignedShortType;\n    return {\n      depthTexture\n    };\n  }, [w, h]);\n  const depthFBO = useFBO(w, h, depthConfig);\n  React.useImperativeHandle(ref, () => depthFBO == null ? void 0 : depthFBO.depthTexture);\n  return useFrame(state => {\n    state.gl.setRenderTarget(depthFBO);\n    state.gl.render(state.scene, state.camera);\n    state.gl.setRenderTarget(null);\n  });\n});\nexport { DepthBuffer };","map":{"version":3,"names":["DepthTexture","DepthFormat","UnsignedShortType","React","useThree","useFrame","useFBO","DepthBuffer","forwardRef","size","ref","useEffect","console","warn","dpr","state","viewport","width","height","w","h","depthConfig","useMemo","depthTexture","format","type","depthFBO","useImperativeHandle","gl","setRenderTarget","render","scene","camera"],"sources":["/Users/chenyangdu/Desktop/SCU/找工/联想/digital-human/digital-human-frontend/node_modules/@react-three/drei/core/DepthBuffer.js"],"sourcesContent":["import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './useFBO.js';\n\nconst DepthBuffer = /*#__PURE__*/React.forwardRef(({\n  size = 256\n}, ref) => {\n  React.useEffect(() => {\n    console.warn('DepthBuffer has been deprecated and will be removed next major. Replace it with useDepthBuffer(size)!');\n  }, []);\n  const dpr = useThree(state => state.viewport.dpr);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const w = size || width * dpr;\n  const h = size || height * dpr;\n  const depthConfig = React.useMemo(() => {\n    const depthTexture = new DepthTexture(w, h);\n    depthTexture.format = DepthFormat;\n    depthTexture.type = UnsignedShortType;\n    return {\n      depthTexture\n    };\n  }, [w, h]);\n  const depthFBO = useFBO(w, h, depthConfig);\n  React.useImperativeHandle(ref, () => depthFBO == null ? void 0 : depthFBO.depthTexture);\n  return useFrame(state => {\n    state.gl.setRenderTarget(depthFBO);\n    state.gl.render(state.scene, state.camera);\n    state.gl.setRenderTarget(null);\n  });\n});\n\nexport { DepthBuffer };\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,WAAW,EAAEC,iBAAiB,QAAQ,OAAO;AACpE,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,MAAM,QAAQ,aAAa;AAEpC,MAAMC,WAAW,GAAG,aAAaJ,KAAK,CAACK,UAAU,CAAC,CAAC;EACjDC,IAAI,GAAG;AACT,CAAC,EAAEC,GAAG,KAAK;EACTP,KAAK,CAACQ,SAAS,CAAC,MAAM;IACpBC,OAAO,CAACC,IAAI,CAAC,uGAAuG,CAAC;EACvH,CAAC,EAAE,EAAE,CAAC;EACN,MAAMC,GAAG,GAAGV,QAAQ,CAACW,KAAK,IAAIA,KAAK,CAACC,QAAQ,CAACF,GAAG,CAAC;EACjD,MAAM;IACJG,KAAK;IACLC;EACF,CAAC,GAAGd,QAAQ,CAACW,KAAK,IAAIA,KAAK,CAACN,IAAI,CAAC;EACjC,MAAMU,CAAC,GAAGV,IAAI,IAAIQ,KAAK,GAAGH,GAAG;EAC7B,MAAMM,CAAC,GAAGX,IAAI,IAAIS,MAAM,GAAGJ,GAAG;EAC9B,MAAMO,WAAW,GAAGlB,KAAK,CAACmB,OAAO,CAAC,MAAM;IACtC,MAAMC,YAAY,GAAG,IAAIvB,YAAY,CAACmB,CAAC,EAAEC,CAAC,CAAC;IAC3CG,YAAY,CAACC,MAAM,GAAGvB,WAAW;IACjCsB,YAAY,CAACE,IAAI,GAAGvB,iBAAiB;IACrC,OAAO;MACLqB;IACF,CAAC;EACH,CAAC,EAAE,CAACJ,CAAC,EAAEC,CAAC,CAAC,CAAC;EACV,MAAMM,QAAQ,GAAGpB,MAAM,CAACa,CAAC,EAAEC,CAAC,EAAEC,WAAW,CAAC;EAC1ClB,KAAK,CAACwB,mBAAmB,CAACjB,GAAG,EAAE,MAAMgB,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACH,YAAY,CAAC;EACvF,OAAOlB,QAAQ,CAACU,KAAK,IAAI;IACvBA,KAAK,CAACa,EAAE,CAACC,eAAe,CAACH,QAAQ,CAAC;IAClCX,KAAK,CAACa,EAAE,CAACE,MAAM,CAACf,KAAK,CAACgB,KAAK,EAAEhB,KAAK,CAACiB,MAAM,CAAC;IAC1CjB,KAAK,CAACa,EAAE,CAACC,eAAe,CAAC,IAAI,CAAC;EAChC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,SAAStB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}